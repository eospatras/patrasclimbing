# Αναρριχητικός οδηγός Πάτρας

Ο Αναρριχητικός οδηγός Πάτρας αυτός έχει πληροφορίες για τα κύρια αναρριχητικά πεδία γύρω από την Πάτρα. Δεν περιλαμβάνεται η Βαράσοβα και ο Βουραϊκός. Τα στοιχεία του οδηγού έχουν αντληθεί από παλιότερη εκδοχή που υπήρχε σε φόρουμ του ΕΟΣ Πατρών και στην οποία είχαν συνεισφέρει τότε αναρριχητές φίλοι ή μέλη του ΕΟΣ Πατρών, αλλά κυρίως οι ίδιοι οι ανοίξαντες. 

Καθώς έχουν περάσει αρκετα χρόνια, ο οδηγός περιέχει ενδεχομένως ελλιπή ή παλιά στοιχεία.σ

## Οδηγίες

Αλλαγές στο αρχείο μπορούν να γίνουν με δύο τρόπους.

- Οποιοσδήποτε μπορεί να συμπληρώσει ένα νέο [**issue**](issues/) όπου θα περιγράφει την αλλαγή που ζητάει. Ένα τέτοιο **issue** θα πρέπει να είναι γραμμένο έτσι ώστε κάποιος να καταλαβαίνει ποιο είναι το θέμα και τι προτείνεται να γίνει για να λυθεί.
- Ορισμένα μέλη της κοινότητας έχουν τη δυνατότητα να πραγματοποιήσουν οι ίδιοι αλλαγές στις περιγραφές ή και σε όλον τον οδηγό. Κάθε φορά που δημοσιεύεται μια αλλαγή εκκινείται μια αυτόματη διαδιακασία (**action**) που μετά από λίγα λεπτά παράγει την ενημερωμένη ιστοσελίδα.
    - **Σημαντικό**: Συνίσταται **όλες** οι αλλαγές να συνοδεύονται από issue. Σε κάθε δημοσίευση το issue μπορεί να μνημονεύεται ρητά.

Ο οδηγός παράγεται αυτόματα κάθε φορά που γίνονται αλλαγές σε ένα αρχείο. Για παράδειγμα, στο αρχείο [**`Αλεποχώρι-Σπαρτιά/Αλεποχώρι-Σπαρτιά.md`**](Αλεποχώρι-Σπαρτιά/Αλεποχώρι-Σπαρτιά.md) για την περιοχή Αλεποχώρι και Σπαρτιά. Εκεί υπάρχουν οι περιγραφές των επιμέρους πεδίων, οι λίστες με τις διαδρομές καθώς και κάποια γραφήματα. Ο χειρισμός των αρχείων είναι σχετικά εύκολος, σε γλώσσα Markdown. Προσοχή χρειάζεται αν αλλάξει κάποια βαθμολογία ή προστεθεί μια νεά διαδρομή. Εκτός από τον αντίστοιχο πίνακα στο αρχείο **`md`**, πρέπει να ενημερωθεί και τα δύο σκριπτ που παράγουν τα δύο γραφήματα: το συνολικό γράφημα δυσκολιών της περιοχής και το γράφημα δυσκολιών του συγκεκριμένου πεδίου.

### Μεταγλώττιση με Pandoc

Η μεταγλώττιση γίνεται με το docker [**`sintoris/texlive:routes`**](https://hub.docker.com/repository/docker/sintoris/custom-images/general)  (που βασίζεται στο dalibo/pandocker:latest).

Μπορούμε να κάνουμε τη μεταγλώττιση στον υπολογιστή μας

1. Κατεβάζουμε το πρότζεκτ από το github.
2. Κατεβάζουμε το docker που περιέχει το pandoc (αφού έχουμε εγκαταστήσει το πρόγραμμα docker):
    ```shell
    docker pull sintoris/texlive:routes
    ```

3. Για να μεταγλωττίσουμε εκτελούμε ένα από τα παρακάτω, και το αποτέλεσμα είναι στον φάκελο `output`.

#### Για το HTML

Σε bash:

```shell
docker run --rm -u `id -u`:`id -g` -v `pwd`:/pandoc sintoris/texlive:routes -d conf/html.yaml -N -f markdown-implicit_figures
```
<!-- 
Σε fish:

```shell
docker run --rm -u (id -u):(id -g) -v (pwd):/pandoc sintoris/texlive:routes -d html.yaml -N -f markdown-implicit_figures
``` -->

#### Για το PDF

Σε bash:

```shell
docker run --rm -u `id -u`:`id -g` -v `pwd`:/pandoc sintoris/texlive:routes -d pdf.yaml -N -f markdown-implicit_figures
```

<!-- Σε fish:

```shell
docker run --rm -u (id -u):(id -g) -v (pwd):/pandoc sintoris/texlive:routes -d html.yaml -N -f markdown-implicit_figures
```
 -->
